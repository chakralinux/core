pkgname=fpc-qtbindings
pkgver=2.1
pkgrel=1
_qt4pas=V2.1_Qt4.5.3
pkgdesc='Free Pascal Qt4 Binding'
url='http://users.telenet.be/Jan.Van.hijfte/qtforfpc/fpcqt4.html'
license=('GPL')
depends=('qt')
conflicts=('gdk-pixbuf')
arch=('i686' 'x86_64')
[ "$CARCH" = "i686" ] && source=(http://users.telenet.be/Jan.Van.hijfte/qtforfpc/bin-qt4pas-$_qt4pas.tar.gz
                                 http://chakra-project.org/sources/fpc-qtbindings/gdk-pixbuf-1.0.tar.gz)
[ "$CARCH" = "i686" ] && md5sums=('484333fda070dd03da091a5c8af56930'
                                  'e0cd561f24e8fd71621230c24fed73cc')

[ "$CARCH" = "x86_64" ] && source=(http://users.telenet.be/Jan.Van.hijfte/qtforfpc/bin64-qt4pas-$_qt4pas.tar.gz
                                   http://chakra-project.org/sources/fpc-qtbindings/gdk-pixbuf-1.0.tar.gz)
[ "$CARCH" = "x86_64" ] && md5sums=('70f76f945a029bf6403d128c9cb74408'
                                    'e0cd561f24e8fd71621230c24fed73cc')

build() {
  [ "$CARCH" = "i686" ] && cd $srcdir/bin-qt4pas-$_qt4pas
  [ "$CARCH" = "x86_64" ] && cd $srcdir/bin64-qt4pas-$_qt4pas
  mkdir -p $pkgdir/usr/lib
  cp -v libQt4Pas.so.5.$pkgver $pkgdir/usr/lib
  ln -sfv libQt4Pas.so.5.$pkgver $pkgdir/usr/lib/libQt4Pas.so.5.2
  ln -sfv libQt4Pas.so.5.$pkgver $pkgdir/usr/lib/libQt4Pas.so.5
  ln -sfv libQt4Pas.so.5.$pkgver $pkgdir/usr/lib/libQt4Pas.so
  mkdir -p $pkgdir/usr/include/gdk-pixbuf-1.0/gdk-pixbuf
  cp -v $srcdir/gdk-pixbuf/* $pkgdir/usr/include/gdk-pixbuf-1.0/gdk-pixbuf
}
