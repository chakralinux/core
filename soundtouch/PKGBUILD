# $Id: PKGBUILD 67309 2010-02-06 08:17:19Z eric $
# Maintainer: Eric Belanger <eric@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Raymano <re1212122000@yahoo.com>

pkgname=soundtouch
pkgver=1.6.0
pkgrel=1
pkgdesc="SoundTouch is an open-source audio processing library for changing the Tempo, Pitch and Playback Rates of audio streams or audio files."
arch=('i686' 'x86_64')
url="http://www.surina.net/soundtouch/"
license=('LGPL')
depends=('gcc-libs')
options=('!libtool')
source=("http://www.surina.net/soundtouch/${pkgname}-${pkgver}.tar.gz")
md5sums=('aa1c63d4d67b033f044a6a48d2be5bdd')

build() {
  local _extra_opts=""

  cd "${srcdir}/${pkgname}"

  if [ ! -x ./configure ]; then
    ./bootstrap
  fi

  if [ "${CARCH}" = "x86_64" ]; then
    _extra_opts="--with-pic"
  fi

  ./configure --prefix=/usr --enable-shared "${_extra_opts}" || return 1

  make
}

package() {
  cd "${srcdir}/${pkgname}"

  make DESTDIR="${pkgdir}" pkgdocdir=/usr/share/doc/soundtouch install
}

# vim:set ts=2 sw=2 et:
