#
# Platform Packages for Chakra, part of chakra-project.org
#
# maintainer (i686): Phil Miller <philm[at]chakra-project[dog]org>
# maintainer (x86_64): Manuel Tortosa <manutortosa[at]chakra-project[dot]org>

pkgname=mlt-python-bindings
pkgver=0.5.2
pkgrel=2
pkgdesc="python bindings for MLT multimedia framework"
arch=('i686' 'x86_64')
url="http://www.mltframework.org"
license=('GPL')
depends=('python2' 'mlt')
makedepends=('swig')
source=(http://downloads.sourceforge.net/sourceforge/mlt/mlt-$pkgver.tar.gz)
md5sums=('8d556b11710fc24801e06b893ac5d61b')

build() {
  mkdir -p $startdir/pkg/usr/lib/python2.7/ 
  cd $srcdir/mlt-$pkgver/src/swig/python

  # python2 fix
  sed -i 's_path=`which python_path=`which python2_' build
  sed -i 's_`python -c_`python2 -c_' build

  ./build || return 1
  install -m755 mlt.py $startdir/pkg/usr/lib/python2.7/
  install -m755 _mlt.so $startdir/pkg/usr/lib/python2.7/
  install -m755 mlt_wrap.o $startdir/pkg/usr/lib/python2.7/
}
