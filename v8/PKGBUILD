# Maintainer: Daniele Cocca <jmc@chakra-project.org>

pkgname=v8
pkgver=3.9
pkgrel=1
pkgdesc="V8 is Google's open source JavaScript engine."
arch=('x86_64')
url="http://code.google.com/p/v8/"
license=('BSD')
depends=('glibc' 'gcc-libs')
makedepends=('python2' 'subversion')
source=("http://chakra.sourceforge.net/sources/${pkgname}/${pkgname}-${pkgver}.tar.xz")
md5sums=('b3357ba6fa2adf130f068c12318fb994')

build() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  make dependencies
  make x64.release library=shared
}

package() {
  cd "${srcdir}/${pkgname}-${pkgver}/out/x64.release"

  # Install the v8 library
  install -D -m755 lib.target/libv8.so \
                   "${pkgdir}/usr/lib/libv8.so"

  # Install the d8 shell
  install -D -m755 d8 \
                   "${pkgdir}/usr/bin/d8"
}

# vim:set ts=2 sw=2 et:
