#
# Chakra Packages for Chakra, part of chakra-project.org
#
# maintainer: Manuel Tortosa <manutortosa[at]chakra-project[dot]org>

# after compile cloog, ppl is broken -> ln -s /usr/lib/libcloog-isl.so.3 /usr/lib/libcloog-isl.so.1
# needed for gcc -> cp /usr/lib/libpwl* . -> compile new ppl -> install -> cp libpwl* /usr/lib


pkgname=ppl
pkgver=0.12.1
pkgrel=1
pkgdesc="A modern library for convex polyhedra and other numerical abstractions."
arch=('i686' 'x86_64')
url="http://bugseng.com/products/ppl"
license=('GPL3')
depends=('gmp>=5.0')
options=('!docs' '!libtool')
source=(http://bugseng.com/products/ppl/download/ftp/releases/$pkgver/ppl-$pkgver.tar.gz{,.sign})
md5sums=('cec8144f2072ac45a850214cca97d075'
         '43eeeb147f9d8b3608aead63486c9545')

build() {
  cd $srcdir/ppl-$pkgver
  ./configure --prefix=/usr --enable-interfaces="c,cxx"
  make
}

check() {
  cd $srcdir/ppl-$pkgver
  make check
}

package() {
  cd $srcdir/ppl-$pkgver
  make DESTDIR=$pkgdir install
}
