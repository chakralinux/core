#maintainer: Neophytos Kolokotronis <tetris4@gmail.com>
#contributions from Arch: https://www.archlinux.org/packages/extra/x86_64/libchewing/

pkgname=libchewing
pkgver=0.4.0
pkgrel=2
pkgdesc="Improved Smart Chewing Library - Intelligent Chinese Phonetic Input Method"
arch=('x86_64')
url="http://chewing.im/"
license=("GPL")
depends=('glibc')
makedepends=('libtool' 'cmake')
options=('!libtool')
source=("https://github.com/chewing/libchewing/archive/v${pkgver}.tar.gz")
sha1sums=('f66c6176d8565dbf8f0026beea0cf824aa013a39')

build() {
	cd "${srcdir}/${pkgname}-${pkgver}"
        ./autogen.sh
	[[ -d build ]] && rm -rf build ; mkdir build
        cd build
        cmake -DCMAKE_INSTALL_PREFIX=/usr ..
	make
}

check() {
       cd "${srcdir}/${pkgname}-${pkgver}/build"
       make check
}

package() {
	cd "${srcdir}/${pkgname}-${pkgver}/build"
	make DESTDIR="${pkgdir}" install
}
