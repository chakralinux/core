#
# Platform Packages for Chakra, part of chakra-project.org
#
# maintainer abveritas[at]chakra-project[dot]org>

pkgname=glpk
pkgver=4.47
pkgrel=1
pkgdesc="GNU Linear Programming Kit : solve LP, MIP and other problems."
arch=('x86_64')
url="http://www.gnu.org/software/glpk/glpk.html"
license=('GPL')
depends=('glibc')
options=('!libtool')
source=("http://ftp.gnu.org/gnu/glpk/${pkgname}-${pkgver}.tar.gz")
md5sums=('8653bf20c1f7db96b9ed369a8598a1ce')

build() {
  cd ${srcdir}/${pkgname}-${pkgver}

  ./configure --prefix=/usr

  make CFLAGS="$CFLAGS -fPIC"  
}

package(){
  cd ${srcdir}/${pkgname}-${pkgver}
  
  make DESTDIR="${pkgdir}" install
  install -Dm644 doc/glpk.pdf "${pkgdir}/usr/share/doc/glpk/glpk.pdf"
  install -Dm644 doc/gmpl.pdf "${pkgdir}/usr/share/doc/glpk/gmpl.pdf"
}
