#
# Platform Packages for Chakra, part of chakra-project.org
#
# maintainer (i686): Phil Miller <philm[at]chakra-project[dog]org>
# maintainer (x86_64): Manuel Tortosa <manutortosa[at]chakra-project[dot]org>

# include global config
source ../_buildscripts/${current_repo}-${_arch}-cfg.conf

pkgname=redland
pkgver=1.0.13
pkgrel=1
pkgdesc="Library that provides a high-level interface to RDF data"
url="http://librdf.org/"
license=("GPL")
arch=('i686' 'x86_64')
depends=('raptor>=2.0.3' 'db' 'postgresql-libs' 'libmysqlclient' 'sqlite3' 
         'libxslt>=1.1.26' 'mpfr>=2.4.1' 'libtool' 'rasqal>=0.9.26' 'unixodbc')
options=('!libtool')
source=(http://download.librdf.org/source/$pkgname-$pkgver.tar.gz
        rpath.diff)
md5sums=('96c15f36f842ad7e1c9d225e4ca97b68'
         'acc85e784f01a656bd56777f95880787')

build() {
        cd ${srcdir}/${pkgname}-${pkgver}
         ./configure --prefix=/usr --enable-release --disable-static --disable-gtk-doc\
                     --with-raptor=system --with-rasqal=system --with-sqlite=3
  patch -Np0 -i ${srcdir}/rpath.diff

  make
}

package() {
  cd ${srcdir}/${pkgbase}-${pkgver}
  make DESTDIR=${pkgdir} install
  rm -rf ${pkgdir}/usr/lib/redland
}
