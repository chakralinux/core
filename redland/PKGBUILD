#
# Platform Packages for Chakra, part of chakra-project.org
#
# maintainer (i686): Phil Miller <philm[at]chakra-project[dog]org>
# maintainer (x86_64): Manuel Tortosa <manutortosa[at]chakra-project[dot]org>

# include global config
source ../_buildscripts/${current_repo}-${_arch}-cfg.conf

pkgname=redland
pkgver=1.0.12
pkgrel=1
pkgdesc="Library that provides a high-level interface to RDF data"
url="http://librdf.org/"
license=("GPL")
arch=('i686' 'x86_64')
depends=('raptor>=1.4.20' 'db>=4.8' 'postgresql-libs>=8.4.2' 'libmysqlclient>=5.1.42' 'sqlite3>=3.6.21' 
         'curl>=7.19.7' 'libxslt>=1.1.26' 'mpfr>=2.4.1' 'libtool' 'rasqal>=0.9.19' 'unixodbc')
options=('!libtool')
source=(http://download.librdf.org/source/$pkgname-$pkgver.tar.gz)
md5sums=('40f37a5ad97fdfbf984f78dcea0c6115')

build() {
        cd ${srcdir}/${pkgname}-${pkgver}
         ./configure --prefix=/usr --enable-release --disable-static --disable-gtk-doc\
                     --with-raptor=system --with-rasqal=system --with-sqlite=3
        make || return 1
}

package() {
        cd ${srcdir}/${pkgname}-${pkgver}
        make -j1 DESTDIR=$pkgdir install || return 1
}